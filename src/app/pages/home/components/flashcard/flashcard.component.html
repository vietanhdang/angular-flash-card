<div class="perspective-1000 mb-6 sm:mb-8">
  <div
    class="w-full h-[320px] sm:h-[360px] md:h-[400px] cursor-pointer relative transition-transform duration-800 preserve-3d group"
    id="flashcard"
    (click)="onFlip()"
    [class.rotate-y-180]="isFlipped"
  >
    <div class="relative w-full h-full preserve-3d">
      <!-- Front -->
      <div
        class="absolute w-full h-full backface-hidden rounded-2xl shadow-2xl flex flex-col justify-center items-center p-5 sm:p-8 bg-white"
      >
        <h2
          class="text-4xl sm:text-5xl md:text-6xl text-gray-800 mb-4 sm:mb-6 font-bold text-center break-words"
          id="word"
        >
          {{ card?.word || 'Loading...' }}
        </h2>
        <button
          class="bg-primary-light text-white border-none w-11 h-11 sm:w-12 sm:h-12 rounded-full text-2xl cursor-pointer transition-all hover:bg-primary-dark hover:scale-110 shadow-lg my-2 sm:my-3 flex items-center justify-center z-10 disabled:opacity-50 disabled:cursor-not-allowed"
          id="speaker-btn"
          title="Listen to pronunciation"
          (click)="playPronunciation($event)"
          [disabled]="!pronunciationAvailable"
        >
          ðŸ”Š
        </button>
        <p
          class="text-lg sm:text-xl md:text-2xl text-gray-600 italic mb-4 sm:mb-6"
          id="pronunciation"
        >
          {{ dictionaryData?.phonetic }}
        </p>
        <p class="text-sm sm:text-base opacity-60 mt-auto">ðŸ‘† Click to flip</p>
      </div>
      <!-- Back -->
      <div
        class="absolute w-full h-full backface-hidden rounded-2xl shadow-2xl flex flex-col justify-start items-center p-5 sm:p-8 bg-gradient-to-br from-accent-pink to-accent-red text-white overflow-y-auto rotate-y-180"
      >
        @if (dictionaryData?.meanings?.length) {
          <ng-container *ngFor="let meaning of dictionaryData?.meanings">
            <h3 class="text-base sm:text-lg font-semibold my-2 sm:my-3">
              {{ meaning.partOfSpeech }}
            </h3>
            <ul class="list-none m-0 mb-4 sm:mb-6 pl-0 w-full">
              <li
                *ngFor="let def of meaning.definitions"
                class="relative pl-5 mb-2 text-sm sm:text-base"
              >
                <span class="absolute left-0 text-white/80">â€¢</span> {{ def.definition }}
                @if (def.example) {
                  - <em class="italic opacity-90 text-xs sm:text-sm">{{ def.example }}</em>
                }
              </li>
            </ul>
          </ng-container>
        } @else {
          <p class="text-base sm:text-lg">No definitions available.</p>
        }
        <p class="text-sm sm:text-base opacity-60 mt-auto">ðŸ‘† Click to flip back</p>
      </div>
    </div>
  </div>
</div>
